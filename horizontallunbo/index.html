<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="lunbo.css">
    <style>
        .boxs{
            width:800px;
            height:400px;
            position:fixed;
            top:0;left:0;right:0;bottom:0;
            margin:auto;
            perspective:800px;
            perspective-origin:bottom;
        }
    </style>
    <script>
        window.onload=function(){
            window.onfocus=function() {
                t=setInterval(move,5000);
            }
            window.onblur=function(){
                clearInterval(t);
            }

            var boxs=document.getElementsByClassName("boxs")[0];
            var widths=parseInt(getComputedStyle(boxs,null).width);
            var heights=parseInt(getComputedStyle(boxs,null).height);
            var nums=10;
            var arr=[];
            for(var i=0;i<nums;i++){
                 var scene=document.createElement("div");
                 scene.style.cssText="width:"+widths+"px;height:"+heights/nums+"px;position:absolute;left:0;top:"+i*heights/nums+"px";
                var box=document.createElement("div");
                box.style.cssText="width:"+widths+"px;height:"+heights/nums+"px;position:absolute;top:0;left:0;transform-style:preserve-3d;transition:transform 2s ease "+(i*0.1)+"s;transform-origin:center center -400px";
                for(var j=0;j<6;j++){
                    var panel=document.createElement("div");
                    panel.style.cssText="position:absolute;top:0;left:0";
                    if(j==0){
                        panel.style.width=widths+"px";
                        panel.style.height=widths+"px";
                        panel.style.transformOrigin="top";
                        panel.style.transform="rotateX(-90deg)";
                    }else if(j==1){
                        panel.style.width=widths+"px";
                        panel.style.height=heights/nums+"px";
                        panel.style.transformOrigin="left";
                        panel.style.transform="rotateY(90deg)";
                        panel.style.background="red";
                        panel.style.background="url(img/1.png) no-repeat 0 "+-i*(heights/nums)+"px";
                    }else if(j==2){
                        panel.style.width=widths+"px";
                        panel.style.height=(heights/nums)+"px";
                        panel.style.background="blue";
                        panel.style.transform="rotateY(180deg)";
                        panel.style.background="url(img/2.jpg) no-repeat 0 "+-i*(heights/nums)+"px";
                    }else if(j==3){
                        panel.style.width=widths+"px";
                        panel.style.height=heights/nums+"px";
                        panel.style.transformOrigin="right";
                        panel.style.transform="rotateY(-90deg)";
                        panel.style.background="#000";
                        panel.style.background="url(img/3.jpg) no-repeat 0 "+-i*(heights/nums)+"px";
                    }else if(j==4){
                        panel.style.width=widths+"px";
                        panel.style.height=widths+"px";
                        panel.style.transformOrigin="bottom";
                        panel.style.background="#000";
                        panel.style.top=-(widths-heights/nums)+"px";
                        panel.style.transform="rotateX(90deg)";
                    }else if(j==5){
                        panel.style.width=widths+"px";
                        panel.style.height=heights/nums+"px";
                        panel.style.transform="translateZ("+-widths+"px)";
                        panel.style.background="pink";
                        panel.style.background="url(img/4.jpg) no-repeat 0 "+-i*(heights/nums)+"px";
                    }

                  box.appendChild(panel);
                }
                scene.appendChild(box);
                boxs.appendChild(scene);
                arr.push(box);
            }
            for(var i=0;i<arr.length;i++){
                if(i<5){
                     arr[i].style.animation="animate "+i*0.8+"s linear ";
                }else{
                    arr[i].style.animation="animate "+(8-i*0.8)+"s linear ";
                }
            }

//           var init=0;
//           var t=setInterval(move,5000);
//            function move(){
//                init+=90;
//                for(var i=0;i<arr.length;i++){
//                    arr[i].style.transform="rotateY("+init+"deg)";
//
//                }
//            }

        }
    </script>
</head>
<body>
<div class="boxs">

</div>
</body>
</html>